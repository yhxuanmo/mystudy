<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>违章查询</title>
    <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
	<div class="row clearfix">
		<div class="col-md-12 column">
			<form role="form" class="form-inline">
				<div class="form-group">
					 <label for="inputCarId">车牌号</label><input type="text" class="form-control" id="inputCarId" />
				</div>
				<a class="btn btn-default">查询</a>
			</form>
		</div>
	</div>
	<div class="row clearfix">
		<div class="col-md-12 column">
			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th>编号</th>
						<th>车牌</th>
						<th>违章原因</th>
						<th>违章日期</th>
                        <th>处罚方式</th>
                        <th>是否受理</th>
					</tr>
				</thead>
				<tbody>

				</tbody>
			</table>
		</div>
	</div>
</div>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script>
    $('.btn').on('click',function (evt) {
        var carid = $('#inputCarId').val().trim()

        $.getJSON('/showinfo/'+carid, function(json) {

            if (json.code==200){
                res = json.info[0]['fields']
                for (info in res){
                    var tr = $('<tr>')
                    var td1 = $('<td>').content(info.no)
                    var td2 = $('<td>').content(info.car_id)
                    var td3 = $('<td>').content(info.pe_reason)
                    var td4 = $('<td>').content(info.pe_date)
                    var td5 = $('<td>').content(info.punish)
                    var td6 = $('<td>').content(info.accept)
                    tr.append(td1)
                    $('tbody').append(tr)
                }


            }
        })
    })
</script>
</body>
</html>